language: java
before_install:
    - .travis/install-dependencies.sh
script: mvn test -P !build-extras -B
notifications:
  slack: kolotov:69j2qLZ0paybeuQMcKfyN2gP
before_deploy: git checkout master
after_success:
  - mvn clean cobertura:cobertura coveralls:report
  - .travis/before-deploy.sh
  - .travis/deploy.sh
env:
  global:
  # OSSRH_JIRA_USERNAME
  - secure: "kEC9Mc5QifCq4p2lcOkWzQ8DB8dDn+iUhmJMahb+OTYg0MJg6sPU29IV7541hLtILI1IncEx4lzEVMw5c778b5iIx3kAjUZfY35D459Eg5thHUg99I4bfCD+frAsxs7IofLa5MesCFGxX4+IpqVnIBSUqgtSaDpt4fmFjC6qZcupGll5KQDtZunG88iQr08Roa6fIjyEoQtwVxqIbsqjmX0k7PaR0g9avj0Ba3a6xTAq+4ZkDpfbIudS2EkRHfUH/aSDWcHFMp1IaeSlCE0CEKmyKh0Cg+nei9YOkirE89lWJ/atwYCUYM6r0+gi9x/2cs/vBqS1gTMtWig4CqpqP3KUrrBTqE3+Dq4O71TNCqU7WysSDN5h14ih+FA4BWOWZwKRg/PYyVw0xXeyMnw2XeuACIpXZh5snpJbFyeS9fDBuBlYSZTilZyn4HAkZKQNGS5zIYzzB3+/SMOJSQhrAHbajNyGkeZXMieeXGhxvQ5ajokkrFR05EsCG2zvEwmnYKxCo4nhmk/Vh82ZH9IvPjGgpPTSOnGBuaZGFakbeVcLTAqGoU2RZaUFtjudBOAZ5gIitjsh+qpvbb3jayiQ0XRW+4Tk3yr0Z0/161fneUDxhAjQ9ne73YqEQE1ZgtQqCzoQmm/ur1E5eu/uYEX2zIflgfParUGZpLNzW7GwNfc="
  # OSSRH_JIRA_PASSWORD
  - secure: "YV+30V9X0YJ11GVeleWnazJbppsPBdrqYW9sL880a4gAXiV9ZsVGEMSvNp0FZpcOhCF47aAX0iptKvEcTX7X4ILgGSXIJWLvISAxvld6kTQd6AVVqgtr8MEvJADt3Q8Gj4QCSZVYqlvQCm5CpDwj9HCrZ98+rpZSqlSo3Il4c2oAahXLZjqQ38rs97nCfmVsoAI/zgfpCYrV2wiAWHke0e1offmSrzZoysAg/OqRM9kI2MdeIP+A+beBlPmUEHb/65lENzbkvSeWP2lWaTHjBNxZQeulQLfv0oxQohzNZrVteG9tpDjCydDgrOb9DACxNv0VA5gmLLg8fESULATZ+20gdALMOCX4VyEyr05Edv5dNp2uRd11PFc3Wlr/Ou99eluLUI88rtvH/UHY8N3n2MFhqf/laE+w2Pqob73Moa6gSGLOYb1VdNLiV+z1xrFRKkCTMrneIoAYIWrxJyHZ6fs8QW1I22m4YTcl2e6+rnAOnewodOPAy6kndHo/iRyi6Aqc+eCik65zcGUKQVNFm9M1U4TTe9ytbTmf97BsnHRnx68lDOOBhAbcBu+hFTt+WvYKBryVtQoLYLEE4Q2LolNtUfFXNqM4HFeJ2pPoBmTDrhRkm/2gkDY+bJx1lNh74/jP/LzvQRa/TJP6yBXF6MedJ4aBdIWVujr+VMESjXU="
  # GPG_KEY_NAME
  - secure: "mi54rBR5Wa46xNM1fRinQNf80h6mvmhErmQDvS/UNThJ+STN0PNRyR5msVbwoXG9QwIKLCojS8C5Iy6ei+jy4RnMcU5r36KfdA3qkzYx7mzYap3EQ+QW4STS5tOdSO4o9Fjr65jGiA2QWvprOUfjsobY9bRMW+jq/Q725yAfGu+v91t9LiR9Kgh9GybjHa9Vxost4187/HysjkOjubxyZvB+ZbmeSNvOJis8zR4TvKqwU/QY+45mf7v4fhANfAVK0UnMMjx1a3VnvYN6SDfl+3IxZXXD0M3ubhT+yNCdcnb2PnlIMW00UBs+CmfZwI6jr/SYcPJtGTNzUS+heAVWRLYwavyKID8Ka9iLl0+SNCl9ETWhtVW76CSirUCUa7WX4Ksu5ejyXhVNqxu5P6C4om4huj5E7hxnxn4LFw4bKdsZoE0FSQKAmIrewzwzAB7/5dEnqxLJlHk2JgWeErJfdGCaGkhf0EBwhhv15SNL4InSPpKiri0MRReYHB3XhtDTF5P4WqYG9lDKExVhmy/s0huc+uzSpaDPCcpQzkF8SsIOstzAt0Y0kkuqzUWJeePNTD5lv4pYRgRCWjR28np096pgNThVkKBPGmmZrf6GzBpsmR+cb86KOVNAOMtuKxxmMwm5qP//qDUIs8kIwTF0lXTZZfCiE4WQWVu5n/mFhfs="
  # GPG_PASSPHRASE
  - secure: "FftLTMOYJn711TWFYtr2MZ0pUK0PxbgTWxG+gw2Yuf8FLXNaoBNgVUEMrYatfa5WUoVXWdmUFKY9i+vDGRoJKEJg4L8vlAXdjHU/5p8nbK4HaDdtyThYhk+NFihMLwlnU64O3+oG/lrZOJrm6Eo3gWmWlWxnK+7KcmIu/0Zw7Xxj8Uc+arZ/BNZlIf50xM7jLKzPQJDZdZweMEUemGhAQkHJccEMt9d8yZZftD4hwH78Dbe+csrnrcMYHgmP5pyVtnOiWNwNWWajzUKUvs7wcmBWyhSy0wyGNBXgNionKUYJ6BtY+lmi9Og58sRUoRHUVeae1eO493S6a+rBMEoPW1Yzv5ia16nfMwd+IDvRL9g08wpJB1VAhvxqwr0cHDb6yLn0OxHSseIi9kQNXit+E/EnW9ylC/ugFWV+hSvfbYAMq4SEPDkOUimYegnorhFGaDTeUqaxV7G7q0LeSjCfPdZv21mthQ5+sjqclP85kvG9hjEGztfOInZ5vQIXs4BoQbiDzlypLbMiDC9HDZfIcMCckB4P8/BdrnRhP61LWqw0601rJGHc4I6Ox5Dy83L0FZYqzWaVU1Db47wKzVVkwEFSYcG8SZan2X1Epe2fHQlgdGSRsi0KZqQVvHVwMSUDIPVk1ajKFN7maTi2bgR31CiudfqG+HSqi1MzMgicwpc="
install: mvn install -P !build-extras -DskipTests=true -Dmaven.javadoc.skip=true -B -V

cache:
  directories:
    - ~/.m2/repository